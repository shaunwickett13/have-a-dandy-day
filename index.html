<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="content-type" content="text/html;" charset="UTF-8" />
    <meta name="description" content="Wherever you are... whoever you are... have a dandy day!" />
    <meta name="keywords" content="dandy, day, positivity, greetings, well wishes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no" />

    <meta name="theme-color" content="black" />

    <meta property="og:title" content="Have A Dandy Day!" />
    <meta property="og:url" content="https://haveadandyday.com" />
    <meta property="og:description" content="Wherever you are... whoever you are... have a dandy day!">
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://haveadandyday.com/image/share.png" />
    <meta property="og:image:alt" content="A man's head peeks out the bottom of the frame and there is text above him saying 'Have A Dandy Day!'" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:width" content="1250" />
    <meta property="og:image:height" content="1250" />

    <link rel="stylesheet" href="https://github.hubspot.com/odometer/themes/odometer-theme-default.css" />
    <script src="https://github.hubspot.com/odometer/odometer.js"></script>

    <link rel="apple-touch-icon" sizes="180x180" href="image/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="image/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="image/favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comfortaa">
    <link rel="stylesheet" type="text/css" href="style.css" media="screen" />

    <script>
        class DandyDayController {
            static focusSchedule = [
                [3.5, "have"],
                [4.0, "a"],
                [4.5, "dan"],
                [4.75, "dy"],
                [5.0, "day"],
                [10.0, "have"],
                [10.5, "a"],
                [11, "dan"],
                [11.25, "dy"],
                [11.5, "day"],
                [23.0, "have"],
                [23.5, "a"],
                [24, "dan"],
                [24.25, "dy"],
                [24.5, "day"],
                [24.75, "have"],
                [25.25, "a"],
                [25.75, "dan"],
                [26, "dy"],
                [26.25, "day"],
            ]

            static sharePayload = {
                title: "Have A Dandy Day!",
                url: "https://haveadandyday.com"
            }

            static quotes = [
                "Keep your chin up, your spirit bright, and your outfit dazzling. That's the recipe for a dandy day! If you want the recipe for meatless chili, I can not help you at all!",
                "In Dandyland, we don't have bad days, just different shades of dandy! Except for the time the Dandyland volcano erupted. That was a bad day!",
                "Remember, wherever you are, you're always just a hop, skip, and a jolly jump away from a dandy day! Unless you're on the edge of a cliff. Be careful!",
                "If your day feels as flat as a pancake, just add some syrup of silliness and a dollop of dandy! I never liked pancakes! Waffles are much better!",
                "Every morning is a chance to make the world a more delightful and dandy place! Every night is another chance to sleep! Those are facts!",
                "My grandmother always said, 'Don't climb trees while drinking spoiled milk'. She had a lot of interesting advice!",
                "I'm on a diet, I've decided to cut down on negativity and fill my plate with dandy! I usually have seconds, thirds, and fourths!",
                "Ever find yourself up the creek without a paddle? Build a sail from your dreams and let the winds of whimsy guide you! Watch out for creek sharks!",
                "Am I a mad man, or just the pinnacle of dandy? The jury is still out! Get back to the courtroom you lazy bums!",
                "My moustache is very real and very amazing! Wow! It's so hairy!",
                "A racoon once witnessed me practicing my dandy dance. It howled like a banshee and scurried off never to be seen again!",
                "They said, 'Dress for the job you want.' So I put on my bowling hat and rainbow blazer and started dancing! No one would hire me! Unbelievable!",
                "A kid once asked me if I was a magician. I told him I was Dandy Dan and then I blasted him with my confetti cannon. His parents were not happy!",
                "If life gives you lemons, squeeze them into the eyes of your naysayers. Just kidding!",
                "This morning I bashed my toe on the wall four times in a row. I was swearing like a sailor! Sorry!",
                "Sometimes the wheels don't come off the bus and you take a joyride down Dandy Lane instead. Hold on to your britches!",
                /*
                "Some say I'm off the wall but I say, 'Perfect! It's much more fun to bounce around!' Please wear a helmet while you bounce. I would know!",
                "Stars can't shine without darkness. Likewise, dandy days are made brighter by a dash of the absurd!",
                "They say time flies when you're having fun. But when you're having a dandy day, it dances!",
                "Why walk when you can skip, hop, or sashay? Each step's a dance move when you've got dandy in your DNA!",
                "I find sanity dreadfully dull. Now, a touch of madness, that's the secret ingredient of a dandy life!",*/
            ].map(value => ({value, sort: Math.random()})).sort((a, b) => a.sort - b.sort).map(({value}) => value)

            static apiDomainName = "https://api.haveadandyday.com"

            constructor() {
                this.buttonCountUpdater = null
                this.quoteIndex = 0
                addEventListener("load", this.onLoad)
            }

            getAudio() {
                return document.getElementById("jingle")
            }

            handleAudioTimeUpdate() {
                const audioSampleTolerance = 500
                const { currentTime } = this.getAudio()

                for (const [time, selector] of DandyDayController.focusSchedule) {
                    const timeUntilFocus = (time - currentTime) * 1000
                    if (timeUntilFocus <= audioSampleTolerance) {
                        setTimeout(() => document.querySelector(`#${selector}.word`).classList.add("focus"), timeUntilFocus)
                        setTimeout(() => document.querySelector(`#${selector}.word`).classList.remove("focus"), timeUntilFocus + 1000)
                    }
                }

                if (currentTime >= 25 && document.querySelectorAll(".firework").length === 0) {
                    const numFireworks = 7;
                    const body = document.querySelector("body")
                    Array.from(Array(numFireworks).keys()).map(i => {
                        const firework = document.createElement("div")
                        firework.classList.add("firework")
                        firework.classList.add(`f${i + 1}`)
                        return firework
                    }).forEach(firework => body.appendChild(firework))
                }
            }

            startExperience() {
                document.querySelector("body").classList.add("active")
                setTimeout(() => document.querySelector("#splash").classList.add("hide"), 1000)

                this.getAudio().play();
                this.incrementButtonClickCount()
            }

            stopExperience() {
                document.body.classList.remove("active")
                document.getElementById("splash").classList.remove("hide")
                document.querySelectorAll('.firework').forEach(e => e.remove());

                const audio = this.getAudio()

                audio.pause()
                audio.currentTime = 0
            }

            showLabel(element) {
                const label = document.querySelector(`label[for=${element.id}]`)
                label.classList.remove("hide")
            }

            hideLabel(element) {
                const label = document.querySelector(`label[for=${element.id}]`)
                label.classList.add("hide")
            }

            hideSlideDownPanel() {
                document.getElementById("splash").classList.remove("show-misc")
                clearInterval(this.buttonCountUpdater)
            }

            showShare() {
                const text = `"${DandyDayController.quotes[this.quoteIndex === 0 ? DandyDayController.quotes.length - 1 : this.quoteIndex - 1]}" - Dandy Dan`
                navigator.share({...DandyDayController.sharePayload, text })
            }

            showStats() {
                this.showSlideUpPanel()
                document.getElementById("stats-section").classList.remove("hide")
                this.updateButtonClickCount()
                this.buttonCountUpdater = setInterval(this.updateButtonClickCount, 60000)
            }

            showQuote() {
                this.showSlideUpPanel()
                document.getElementById("quote-section").classList.remove("hide")
            }

            showNewQuote() {
                document.getElementById("quote-section").classList.add("show-quote")
                setTimeout(() => {
                    document.querySelector("#quote-section > .instructions").classList.add("hide")
                }, 250)

                const { quotes } = DandyDayController
                document.querySelector("#quote-section > blockquote").innerText = quotes[this.quoteIndex++]
                if (this.quoteIndex === DandyDayController.quotes.length) {
                    this.quoteIndex = 0
                }
            }

            showFaq() {
                this.showSlideUpPanel()
                document.getElementById("faq-section").classList.remove("hide")
            }

            showAbout() {
                this.showSlideUpPanel()
                document.getElementById("about-section").classList.remove("hide")
            }

            onButtonClick(event) {
                const {type, target} = event

                if (type === "touchstart") {
                    event.preventDefault()
                }

                if ("share-button" === target.id) {
                    this.showShare()
                } else if ("stats-button" === target.id) {
                    this.showStats()
                } else if ("quotes-button" === target.id) {
                    this.showQuote()
                } else if ("faq-button" === target.id) {
                    this.showFaq()
                } else if ("about-button" === target.id) {
                    this.showAbout()
                } else if ("go-back-button" === target.id) {
                    this.hideSlideDownPanel()
                } else if ("new-quote-button" === target.id) {
                    this.showNewQuote()
                } else {
                    return;
                }

                this.hideLabel(target)
            }

            incrementButtonClickCount() {
                if (window.location.href.includes("localhost")) {
                    return
                }
                try {
                    fetch(`${DandyDayController.apiDomainName}/statistics/button`, { method: 'POST' })
                } catch (e) {
                    console.error(`Failed to increment button counter: ${e}`)
                }
            }

            updateButtonClickCount() {
                try {
                    fetch(`${DandyDayController.apiDomainName}/statistics/button`)
                        .then(response => response.json())
                        .then(response => {
                            document.getElementById("odometer").innerText = JSON.parse(response.output)
                                .data
                                .map(d => d.count)
                                .reduce((partial, a) => partial + a, 0)
                        })
                } catch (e) {
                    console.error(`Failed to get button count: ${e}`)
                }
            }

            showSlideUpPanel() {
                Array.from(document.querySelectorAll("#misc-panel section")).forEach(element => element.classList.add("hide"))
                document.getElementById("splash").classList.add("show-misc")
            }

            onLoad() {
                if (window.location.href.includes("localhost")) {
                    const livejs = document.createElement("script");
                    livejs.setAttribute("src", "https://livejs.com/live.js")
                    livejs.setAttribute("type", "text/javascript")
                    document.head.appendChild(livejs)
                }

                if (!navigator.canShare || !navigator.canShare(DandyDayController.sharePayload)) {
                    document.getElementById("share-button").classList.add("hide")
                }
                document.getElementById("control-panel").classList.remove("hide")
            }
        }

        const dandyDayController = new DandyDayController();
    </script>

    <title>Have A Dandy Day!</title>
</head>
<body>
    <main id="splash" class="background-container">
        <nav id="control-panel" class="hide">
            <button id="start-button" onclick="dandyDayController.startExperience()">click for dandy day</button>
            <div id="additional">
                <div id="additional-buttons">
                    <button id="share-button" onmouseenter="dandyDayController.showLabel(this)" onmouseleave="dandyDayController.hideLabel(this)" onclick="dandyDayController.onButtonClick(event)" ontouchstart="dandyDayController.onButtonClick(event)">share</button>
                    <button id="stats-button" onmouseenter="dandyDayController.showLabel(this)" onmouseleave="dandyDayController.hideLabel(this)" onclick="dandyDayController.onButtonClick(event)" ontouchstart="dandyDayController.onButtonClick(event)">count</button>
                    <button id="quotes-button" onmouseenter="dandyDayController.showLabel(this)" onmouseleave="dandyDayController.hideLabel(this)" onclick="dandyDayController.onButtonClick(event)" ontouchstart="dandyDayController.onButtonClick(event)">quote</button>
                    <button id="faq-button" onmouseenter="dandyDayController.showLabel(this)" onmouseleave="dandyDayController.hideLabel(this)" onclick="dandyDayController.onButtonClick(event)" ontouchstart="dandyDayController.onButtonClick(event)">faq</button>
                    <button id="about-button" onmouseenter="dandyDayController.showLabel(this)" onmouseleave="dandyDayController.hideLabel(this)" onclick="dandyDayController.onButtonClick(event)" ontouchstart="dandyDayController.onButtonClick(event)">about</button>
                </div>
                <div id="additional-info">
                    <label for="share-button" class="hide">share this site to brighten someone else's day</label>
                    <label for="stats-button" class="hide">view the total number of dandy days wished</label>
                    <label for="quotes-button" class="hide">get a fun quote from Dandy Dan himself</label>
                    <label for="faq-button" class="hide">view the frequently asked questions</label>
                    <label for="about-button" class="hide">view information about this site</label>
                </div>
            </div>
        </nav>
        <div id="misc-panel">
            <button id="go-back-button" onclick="dandyDayController.onButtonClick(event)" ontouchstart="dandyDayController.onButtonClick(event)">
                <svg style="pointer-events: none;" fill="currentColor" height="800px" width="800px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                     viewBox="0 0 330 330" xml:space="preserve">
                    <path fill="currentColor" id="XMLID_224_" d="M325.606,229.393l-150.004-150C172.79,76.58,168.974,75,164.996,75c-3.979,0-7.794,1.581-10.607,4.394
                    l-149.996,150c-5.858,5.858-5.858,15.355,0,21.213c5.857,5.857,15.355,5.858,21.213,0l139.39-139.393l139.397,139.393
                    C307.322,253.536,311.161,255,315,255c3.839,0,7.678-1.464,10.607-4.394C331.464,244.748,331.464,235.251,325.606,229.393z"/>
                </svg>
            </button>
            <section id="stats-section" class="hide">
                <div id="odometer" class="odometer">0</div>
                <p>number of dandy days wished</p>
            </section>
            <section id="quote-section" class="hide">
                <div class="instructions">
                    Please boop Dandy Dan on his nose.
                </div>
                <blockquote></blockquote>
                <div class="spacer"></div>
                <div id="quote-dandy-dan">
                    <img src="image/smile.png" alt="A smiling man wearing a bowling hat, a rainbow plaid blazer, and a fake moustache gives two thumbs up." draggable="false">
                    <button id="new-quote-button" onclick="dandyDayController.onButtonClick(event)" ontouchstart="dandyDayController.onButtonClick(event)"></button>
                </div>
            </section>
            <section id="faq-section" class="hide">
                <h3>frequently asked questions</h3>

                <h6>What am I looking at?</h6>
                <p>
                    A website that wishes a dandy day to everyone who visits.
                </p>

                <h6>Why does this exist?</h6>
                <p>
                    I thought it would be funny.
                </p>

                <h6>Why did you think it would be funny?</h6>
                <p>
                    Very good question.
                </p>

                <h6>How much time did you spend making this?</h6>
                <p>
                    Far more time than I care to admit.
                </p>

                <h6>Who is Dandy Dan?</h6>
                <p>
                    The dandiest man on the internet.
                </p>

                <h6>What is Dandy Dan's life story?</h6>
                <p>
                    He didn't exist for most of human history. Then this website was created and he poofed into existence. Now he will dance and be dandy for all of eternity. That is pretty much all there is to it.
                </p>

                <h6>Where is the beautiful vista that Dandy Dan is dancing in located?</h6>
                <p>
                    In Dandyland of course.
                </p>

                <h6>Can I visit Dandyland?</h6>
                <p>
                    With your imagination, anything is possible.
                </p>

                <h6>My day isn't that dandy. What should I do?</h6>
                <p>
                    Go experience Dandy Dan and his dandy song. Maybe it will help turn your day around.
                </p>

                <h6>My day is already too dandy to handle. What should I do?</h6>
                <p>
                    Think long and hard before you experience Dandy Dan and his dandy song. That much dandiness may be dangerous.
                </p>

                <h6>What am I supposed to do after I experience Dandy Dan and his dandy song?</h6>
                <p>
                    The possibilities are endless.
                </p>
                <ul>
                    <li>Continue going about your day.</li>
                    <li>Experience it again.</li>
                    <li>Send it to someone else so that they can experience it.</li>
                    <li>Look back on your life and ponder the long chain of events that have led you to the point where you are reading this FAQ.</li>
                    <li>All of the above.</li>
                    <li>None of the above.</li>
                </ul>

                <h6>The dandy song is stuck in my head. What can I do?</h6>
                <p>
                    Unfortunately not much. It is a very catchy tune. In fact, some scientists are saying that it may be the catchiest tune ever created. It will likely be stuck in your head for the foreseeable future.
                </p>

                <h6>I dislike Dandy Dan and his dandy song. How can I express my displeasure?</h6>
                <p>
                    I recommend turning your head to the sky, shaking your fists, and howling, "Curse you Dandy Dan and your dandy song! I do not find you dandy!".
                    <br/><br/>
                    You may then close the website and proceed with your day.
                </p>
            </section>
            <section id="about-section" class="hide">
                <p>
                    <span style="font-weight: bold">Created, designed, and developed</span> by a person that knows how to create, design, and develop websites.
                </p>
                <p>
                    <span style="font-weight: bold">Original lyrics and music</span> by a person who is very lyrically and musically talented.
                </p>
                <br/>
                <p style="font-style: italic; font-size: .85rem;">
                    This website does not use cookies and does not collect, store, or share user data (other than the total number of times the big dandy button was clicked).
                </p>
            </section>
        </div>
    </main>
    <div class="cloud">
        <div></div>
    </div>
    <div class="cloud">
        <div></div>
    </div>
    <div class="cloud">
        <div></div>
    </div>
    <div id="sun"></div>
    <div id="billboard">
        <h1 id="greeting">
            <span class="word" id="have">Have</span>
            <span class="word" id="a">A</span>
            <span class="word" id="dan">Dan</span><span class="word" id="dy">dy</span>
            <span class="word" id="day">Day!</span>
        </h1>
        <div class="bar"></div>
        <div class="legs">
            <div class="left"></div>
            <div class="right"></div>
        </div>
    </div>
    <div id="dandy-dan">
        <img class="dance" src="image/smile.png" alt="A smiling man wearing a bowling hat, a rainbow plaid blazer, and a fake moustache gives two thumbs up." draggable="false">
    </div>
    <div id="grass">
        <div class="lawn"></div>
        <div class="lawn"></div>
        <div class="lawn"></div>
        <div class="lawn"></div>
        <div class="lawn"></div>
        <div class="lawn"></div>
        <div class="lawn"></div>
        <div class="lawn"></div>
        <div class="lawn"></div>
        <div class="lawn"></div>
        <div class="lawn"></div>
        <div class="lawn"></div>
        <div class="lawn"></div>
        <div class="lawn"></div>
        <div class="lawn"></div>
        <div class="lawn"></div>
        <div class="lawn"></div>
        <div class="lawn"></div>
        <div class="lawn"></div>
        <div class="lawn"></div>
    </div>
    <div class="bg right"></div>
    <div class="bg right bg2"></div>
    <div class="bg right bg3"></div>
    <div class="bg left"></div>
    <div class="bg left bg4"></div>
    <div class="bg left bg5"></div>
    <audio id="jingle" preload="auto" onended="dandyDayController.stopExperience()" ontimeupdate="dandyDayController.handleAudioTimeUpdate()">
        <source src="audio/jingle.mp3" type="audio/mpeg" />
    </audio>
</body>
</html>